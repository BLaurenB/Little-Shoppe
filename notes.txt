With Tests and factory, need to specify Role.title at each folder level




store admins are store admins for all


Check all routes after namespacing
/
/user
/store/manager/user (post changes to user_path#update)
/store/admin/user (post changes to user_path#update)

/dashboard

/store
/store/category(ies) (index/show)
/store/category/items
/store/item(s) (index/show)

/admin/store/dashboard
/admin/store/dashboard/managers (CRUD)
/admin/store/category(ies) (CRUD)
/admin/store/category/items (CRUD)
/admin/store/order(s) (CRUD)
/admin/store/item(s) (CRUD)

manager/store/dashboard
manager/store/category(ies) (CRUD)
manager/store/category/items (CRUD)
manager/store/order(s) (CRUD)
manager/store/item(s) (CRUD)

/god/dashboard
/god/store(s) (CRUD)
/god/users (any users, or just admin/managers)


we should scope to an admin user (current_user.stores.find(params))
current_user.manageable_stores
current_user.adminable_stores

biz admin and biz mgr can share views.  Just load different partials and block off controller actions (or try to if/else the hell out of it)

for GOD, just use Store.find(id)


6 businesses
  Chocolate store:
    https://www.pexels.com/photo/woman-biting-brown-chocolate-37831/
    https://www.pexels.com/photo/white-flower-beside-white-round-melted-obkect-39829/
    https://www.pexels.com/photo/sugar-candy-chocolate-dessert-40022/
    https://www.pexels.com/photo/plate-meal-hot-chocolate-94439/
    https://www.pexels.com/photo/plate-meal-hot-chocolate-94439/
    https://www.pexels.com/photo/bake-baked-ball-birthday-369265/
    https://www.pexels.com/photo/close-up-of-christmas-milk-251865/
    https://www.pexels.com/photo/eating-chocolate-dessert-sweet-50717/
    https://www.pexels.com/photo/white-ceramic-mug-with-coffee-730191/
    https://www.pexels.com/photo/chocolate-and-vanilla-round-pastry-66234/
    https://www.pexels.com/photo/food-bakery-eat-milk-94278/
    https://www.pexels.com/photo/food-dark-brown-white-42065/
    https://www.pexels.com/photo/round-chocolate-coated-pastry-on-white-stick-33715/
    https://www.pexels.com/photo/brown-round-table-decor-209353/
    https://www.pexels.com/photo/round-chocolate-207082/
    https://www.pexels.com/photo/truffles-775579/
    https://www.pexels.com/photo/coffee-dark-candy-chocolate-65882/

  Green Coffee Bean Store

12 additional categories
Chocolate Categories: Dark, Milk, White? Items: truffles, bars, cookies (chips, or frosted?), fudge/bark, sauce
Coffee Categories: Whole Beans, Machines (beans - 5 diff flavors, machines - roasters, grinders (electric and manual), expresso?, electric stirrer)
5 items per new category
5 additional registered customers, one with the following data:
Username: josh@turing.io
Password: password
1-5 orders per new registered customer
1 new business manager per business with the following data:
Username: josh@turing.io
Password: password
1 new business admin per business, one with the following data:
Username: ian@turing.io
Password: password
1 new platform administrators
Username: cory@turing.io
Password: password



The Pivot should be able to handle the following users:

Guest Customer
Visit different businesses.
   - need businesses
     - make table (name, slug)
Add items from multiple businesses into a single cart.
   - items need a store ID (FK for store)

Log in or create an account before completing checkout.
 - seems ok, but check


Registered Customer
Make purchases on any business
   - need businesses
Manage my account information
 - add edit button to /dashboard page for user
View my purchase history
 - seems working, but need a link from Orders Index (need to add the business details like items linked to business, maybe order show)


app/
  controllers/
    store/
      admin (currently a single business admin = Store Admin)
        store's dashboard? getting an edit button from the store show page
      store manager - Store Admin has full access to these
        items controller
        orders controllers

      items controllers
      orders controller

    users

  models/

  views/
    namespaced views



Store Manager
Manage items on my business
   - items controller, namespaced. Views
Manage orders on my business
   - orders controller namespaced. Views


Store Admin
Manage items on my business
 - controller and view
Manage orders on my business
 -controller and view
Update my business information
 - edit on store Show page (if logic?)
Manage other business managers and business admins for your store
 - Dashboard page. create and edit users and roles. Need a Business Users index


Platform Admin
Approve or decline the creation of new businesses
 - button on the show index page to a create page, and the form is intercepted (notifications?)
Take a business offline / online
   - edit button on store show page (not deleting). Add a column to be active or inactive, plus logic to redirect
    - this version of the business edit page is a link to the business's admin dashboard (with a new tab to edit managers)
Perform any functionality restricted to business admins
 - master permission haver.
